# 版本更新日志

本文档记录项目的所有版本更新历史。

---

## v0.0.4 (2026-01-03)

### 📱 UI改进
- 将“陪诊服务记录详情”弹窗居中显示，提升可读性

### 🛠️ 技术改进
- 显示逻辑由 `display: block` 改为 `display: flex`，配合遮罩层居中

### 📝 详细变更
- `webview/dist/index.html`: 打开详情时将遮罩层 `style.display` 设置为 `flex`
- `webview/dist/index.html`: 遮罩层内联样式添加居中对齐属性

### 🎯 测试验证
- ✅ 点击陪诊记录时，详情弹窗在屏幕正中显示
- ✅ 其他弹窗行为不受影响

---

## v0.0.3 (2026-01-03)

### 🔧 修复问题
- 修复点击“陪诊记录”时出现的 SyntaxError: Unexpected end of input 错误
- 修复因JSON字符串未转义导致的HTML属性解析异常

### 📝 详细变更
- `webview/dist/index.html`: 在生成陪诊记录HTML时，对`record`对象的JSON字符串进行双引号转义，防止破坏`onclick`属性结构

### 🎯 测试验证
- ✅ 点击陪诊记录可正常调用 `openVisitRecordDetail` 函数
- ✅ 详情弹窗正常显示

---

## v0.0.2 (2025-01-03)

### 🔧 修复问题
- 修复浏览器缓存导致的样式不一致问题
- 强化防缓存机制

---

## v0.0.1 (2025-01-03)

### 🆕 新增功能
- 添加版本管理系统
- 在聊天界面头部显示当前版本号
- 在控制台输出版本信息

### 🔧 修复问题
- 修复用户头像在浏览器中显示在消息左边的问题
- 修复用户头像在Web和微信小程序之间左边距不一致的问题
- 优化消息布局，确保用户消息头像显示在消息右侧

### 📱 UI改进
- 新增聊天头部区域，包含版本徽章
- 优化版本号显示样式，使用渐变蓝色徽章
- 调整消息容器边距，减少左右间距
- 改进响应式设计，移动端优化

### 🛠️ 技术改进
- 添加版本管理规范到项目规则
- 实现版本号动态显示功能
- 统一Web和小程序的消息布局表现

### 📝 详细变更
- HTML结构：添加聊天头部和版本徽章元素
- CSS样式：新增版本徽章样式，优化聊天头部布局
- JavaScript：实现版本显示组件和日志输出

### 🎯 测试验证
- ✅ 用户消息头像在浏览器中正确显示在右侧
- ✅ Web和微信小程序端显示一致
- ✅ 版本号正确显示在聊天界面头部
- ✅ 控制台正确输出版本信息

---

## 版本管理规范

### 版本号格式
- **vX.Y.Z** 格式
  - X：项目期数（重大项目里程碑）
  - Y：主版本号（功能更新）
  - Z：修订号（bug修复）

### 更新流程
1. 每次对话完成后更新版本号
2. 记录变更内容和修复问题
3. 更新版本显示和日志
4. 告知用户当前版本号

---

**维护者**：开发团队  
**最后更新**：2026-01-03
